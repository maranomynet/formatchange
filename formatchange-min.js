(function(){"use strict";if(typeof window=="undefined"){typeof module=="object"&&typeof module.exports=="object"&&(module.exports=void 0);return}var l=window,h=!!l.addEventListener,p=Object.create||function(r){var e=function(){};return e.prototype=r,new e},f=function(r,e){var a=this;if(this instanceof f)e=e||{},a.win=e.win||a.win,a.elm=e.elm,e.elmTagName&&(a.elmTagName=e.elmTagName),e.elmId&&(a.elmId=e.elmId),"manual"in e&&(a.manual=e.manual),"defer"in e&&(a.defer=e.defer),a.formatGroups=r||p(a.formatGroups),a.media={},a._callbacks=[],a._check=function(){a.check()},!a.defer&&a.start();else return new f(r,e)};f.prototype={elmTagName:"del",elmId:"mediaformat",manual:!1,defer:!1,win:l,formatGroups:{},isRunning:function(){return this._on},start:function(r){var e=this;if(!e._on){var a=e.win;if(!e.elm){var n=a.document,t=e.elmId||"mediaformat",i=e.elm=n.getElementById(t);if(!i){i=e.elm=n.createElement(e.elmTagName||"del");var s=i.style;s.position="absolute",s.visibility=s.overflow="hidden",s.border=s.padding=s.margin=s.width=s.height=0,i.id=t,i._isMine=!0,n.body.appendChild(i)}}e._on=!0,e.manual||(h?a.addEventListener("resize",e._check):a.attachEvent("onresize",e._check)),e.refresh(r)}},stop:function(){var r=this,e=r.elm;r._on&&(r.manual||(h?r.win.removeEventListener("resize",r._check):r.win.detachEvent("onresize",r._check)),e._isMine&&(e.parentNode.removeChild(e),delete r.elm),r._on=!1)},refresh:function(r){var e=this;return r&&(e.oldFormat=null),e._on&&(e.check()||e._updateFlags()),e._on},subscribe:function(r,e){var a=this;r&&(a.unsubscribe(r),a._callbacks.push(r),e!==!1&&a._on&&!a._triggering&&r(a.media))},unsubscribe:function(r){for(var e=this._callbacks,a=0,n;n=e[a];a++)if(n===r){e.splice(a,1);break}},_on:!1,_updateFlags:function(){var r=this,e=r.media,a=r.formatGroups;for(var n in a){var t=a[n],i=!!(t&&t[e.is]),s=!!(t&&t[e.was]);e["is"+n]=i,e["was"+n]=s,e["became"+n]=i&&!s,e["left"+n]=!i&&s,!t&&delete a[n]}},check:function(){var r=this;if(r._on){var e=r.media,a=r.oldFormat,n=r.elm,t=r.win.getComputedStyle,i=t&&t(n,":after").getPropertyValue("content");(!i||i==="none")&&(i=(t?t(n,null).getPropertyValue("font-family"):n.currentStyle.fontFamily)||""),i=i.replace(/['"]/g,"");var s=i!==a;if(s){e.is=e.format=i,e.was=e.lastFormat=a,r.oldFormat=i,r._updateFlags(),r._triggering=!0;for(var u=0,o;o=r._callbacks[u];u++)o(e);r._triggering=!1}return s}}},f.makeGroups=function(r){var e={};return Object.keys(r).forEach(function(a){var n=r[a].group;n&&n.split(",").forEach(function(t){t=t.trim(),e[t]=e[t]||{},e[t][a]=!0})}),e},f.jQueryPlugin=function(r,e){r.formatChange=function(a,n){n=n||{};var t=n.win||f.prototype.win||l,i="$formatchange_jquery_instances",s=t[i];s||(s=t[i]={});var u=n.eventName||e||"formatchange",o=s[u];if(!o){o=s[u]=new f(a,n);var m="_$triggered";o.subscribe(function(v){r(t).trigger(u,[v])}),r.event.special[u]={add:function(v){setTimeout(function(){var c=v.handler;o._on&&!c[m]&&c.call(t,r.Event(u),o.media)},0)},handle:function(v){var c=v.handleObj.handler;return c[m]=!0,c.apply(this,arguments)}}}return o}},typeof module=="object"&&typeof module.exports=="object"?module.exports=f:l.FormatChange=f;var d=l.jQuery;d&&!d.formatChange&&f.jQueryPlugin(d)})();
/* FormatChange  -- (c) 2012-2016 Hugsmi√∞jan ehf.   @license MIT/GPL */
